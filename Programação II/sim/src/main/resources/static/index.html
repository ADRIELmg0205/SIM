<!DOCTYPE html>
<html>
<head>
<meta charset="ISO-8859-1">
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
	crossorigin="anonymous">

<title>Spring boot - teste</title>
</head>
<body>
	<h3>Spring boot testando 1, 2, 3, ...</h3>
	
	<script
  src="https://code.jquery.com/jquery-3.6.1.min.js"
  integrity="sha256-o88AwQnZB+VDvE9tvIXrMQaPlFFSUTR+nldQm1LuPXQ="
  crossorigin="anonymous"></script>
	
	<!-- Option 1: Bootstrap Bundle with Popper -->
	<script
		src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
		crossorigin="anonymous"></script>
		
		<form action="" id="formCadastroUser">
	<div class="mb-3">
		<label for="codigocliente" class="form-label">ID</label> 
		<input type="text" class="form-control" id="codigocliente" readonly="readonly">
	</div>
	<div class="mb-3">
		<label for="nomecliente" class="form-label">Nome do Cliente</label> 
		<input type="text" class="form-control" id="nomecliente" placeholder="Informe o nome" required = "required">
	</div>
	<div class="mb-3">
		<label for="idadecliente" class="form-label">Idade</label> 
		<input type="number" class="form-control" id="idadecliente" >
	</div>
	<div class="mb-3">
		<label for="telefonecliente" class="form-label">Telefone</label> 
		<input type="text" class="form-control" id="telefonecliente" >
	</div>
	<div class="mb-3">
		<label for="emailcliente" class="form-label">E-Mail</label> 
		<input type="text" class="form-control" id="emailcliente" >
	</div>
	<div class="mb-3">
		<label for="sexocliente" class="form-label">Sexo (M/F)</label> 
		<input type="text" class="form-control" id="sexocliente" >
	</div>
	<div class="mb-3">
		<label for="cependerecocliente" class="form-label">CEP</label> 
		<input type="number" class="form-control" id="cependerecocliente" >
	</div>
</form>

<button type="button" class="btn btn-primary" onclick="salvarcliente()">Salvar</button>
		
		<script type"text/javascript">
		function salvarcliente(){
			var codigocliente = $("#codigocliente").val();
			var nomecliente = $("#nomecliente").val();
			var idadecliente = $("#idadecliente").val();
			var telefonecliente = $("#telefonecliente").val();
			var emailcliente = $("#emailcliente").val();
			var sexocliente = $("#sexocliente").val();
			var cependerecocliente = $("#cependerecocliente").val();
			if(nome == ""){
				alert("Informe o nome! ");
				$("#nomecliente").focus();
				return;
			}else{
				$.ajax({
					method : "POST",
					url : "salvarcliente",
					data : JSON.stringify({codigocliente : codigocliente, nomecliente : nomecliente, idadecliente: idadecliente, telefonecliente: telefonecliente, emailcliente: emailcliente, sexocliente: sexocliente, cependerecocliente: cependerecocliente}),
					contentType : "application/json; charset=utf-8",
					success : function(response){
						$("#codigocliente").val(response.id);
						alert("Salvo com sucesso!");
					}
				}).fail(function (xhr, status, errorThrown){
					alert("Erro ao salvar: " + xhr.responseText);
				});	
			}

		}
	</script>
		
		
</body>
</html>
